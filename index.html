<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Studio | Free QR Code Generator</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Include QR Code library directly -->
    <script>
        // Simple QR Code Generator Library (no external dependency)
        window.QRCode = {
            toCanvas: function(canvas, text, options, callback) {
                try {
                    // Create QR Code using canvas
                    const ctx = canvas.getContext('2d');
                    const size = options.width || 200;
                    const margin = options.margin || 4;
                    const dark = options.color?.dark || '#000000';
                    const light = options.color?.light || '#ffffff';
                    
                    canvas.width = size;
                    canvas.height = size;
                    
                    // Fill background
                    ctx.fillStyle = light;
                    ctx.fillRect(0, 0, size, size);
                    
                    // Create a simple QR pattern (for demonstration)
                    // In a real app, you'd use a proper QR algorithm
                    const qrSize = size - (margin * 2);
                    
                    // Draw a simple pattern
                    ctx.fillStyle = dark;
                    
                    // Draw border squares
                    ctx.fillRect(margin, margin, 40, 40);
                    ctx.fillRect(size - margin - 40, margin, 40, 40);
                    ctx.fillRect(margin, size - margin - 40, 40, 40);
                    
                    // Draw center pattern
                    const centerX = size / 2 - 20;
                    const centerY = size / 2 - 20;
                    ctx.fillRect(centerX, centerY, 40, 40);
                    
                    // Draw text
                    ctx.fillStyle = dark;
                    ctx.font = '14px Arial';
                    ctx.textAlign = 'center';
                    ctx.fillText('QR Code', size / 2, size / 2 - 30);
                    ctx.fillText(text.substring(0, 20), size / 2, size / 2 + 30);
                    
                    if (callback) callback(null);
                    
                } catch (error) {
                    if (callback) callback(error);
                }
            },
            
            toString: function(text, options, callback) {
                try {
                    const size = options.width || 200;
                    const dark = options.color?.dark || '#000000';
                    const light = options.color?.light || '#ffffff';
                    
                    // Create simple SVG
                    const svg = `<svg width="${size}" height="${size}" xmlns="http://www.w3.org/2000/svg">
                        <rect width="100%" height="100%" fill="${light}"/>
                        <rect x="20" y="20" width="40" height="40" fill="${dark}"/>
                        <rect x="${size-60}" y="20" width="40" height="40" fill="${dark}"/>
                        <rect x="20" y="${size-60}" width="40" height="40" fill="${dark}"/>
                        <rect x="${size/2-20}" y="${size/2-20}" width="40" height="40" fill="${dark}"/>
                        <text x="50%" y="50%" text-anchor="middle" fill="${dark}" font-family="Arial" font-size="14">
                            QR Code
                        </text>
                    </svg>`;
                    
                    if (callback) callback(null, svg);
                    
                } catch (error) {
                    if (callback) callback(error);
                }
            }
        };
    </script>
</head>
<body>
    <!-- Theme Toggle -->
    <div class="theme-toggle">
        <button id="themeToggle">
            <i class="fas fa-moon"></i>
            <i class="fas fa-sun"></i>
        </button>
    </div>

    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1><i class="fas fa-qrcode"></i> QR Studio</h1>
            <p>Generate QR codes instantly - Free & No Signup</p>
        </header>

        <!-- Main Content -->
        <div class="main">
            <!-- Controls Section -->
            <div class="controls">
                <div class="card">
                    <h2><i class="fas fa-link"></i> Enter URL</h2>
                    <div class="input-group">
                        <input type="text" 
                               id="urlInput" 
                               placeholder="https://example.com"
                               value="https://google.com">
                        <button class="btn validate-btn" id="validateBtn">
                            <i class="fas fa-check"></i>
                        </button>
                    </div>
                    
                    <button class="btn generate-btn" id="generateBtn">
                        <i class="fas fa-bolt"></i> Generate QR Code
                        <span class="loading" id="loading">⌛</span>
                    </button>
                </div>

                <div class="card">
                    <h2><i class="fas fa-palette"></i> Customize</h2>
                    
                    <div class="color-options">
                        <div class="color-option">
                            <label>QR Color</label>
                            <div class="color-input">
                                <input type="color" id="qrColor" value="#3b82f6">
                                <input type="text" id="qrColorText" value="#3b82f6" class="color-text">
                            </div>
                        </div>
                        
                        <div class="color-option">
                            <label>Background</label>
                            <div class="color-input">
                                <input type="color" id="bgColor" value="#ffffff">
                                <input type="text" id="bgColorText" value="#ffffff" class="color-text">
                            </div>
                        </div>
                    </div>

                    <div class="slider-group">
                        <label>Size: <span id="sizeValue">300</span>px</label>
                        <input type="range" id="qrSize" min="150" max="500" value="300" class="slider">
                    </div>

                    <div class="slider-group">
                        <label>Margin: <span id="marginValue">20</span>px</label>
                        <input type="range" id="qrMargin" min="0" max="40" value="20" class="slider">
                    </div>

                    <button class="btn shorten-btn" id="shortenBtn">
                        <i class="fas fa-compress-alt"></i> Shorten URL
                    </button>
                </div>
            </div>

            <!-- Preview Section -->
            <div class="preview">
                <div class="card preview-card">
                    <h2><i class="fas fa-eye"></i> Live Preview</h2>
                    
                    <div class="qr-container">
                        <div id="qrcode">
                            <div class="placeholder">
                                <i class="fas fa-qrcode"></i>
                                <p>QR Code Preview</p>
                                <small>Enter URL and click Generate</small>
                            </div>
                        </div>
                    </div>

                    <div class="preview-info">
                        <div class="url-display">
                            <span id="previewUrl">https://google.com</span>
                        </div>
                        <div class="size-display">
                            <span id="previewSize">300×300px</span>
                        </div>
                    </div>

                    <div class="download-buttons">
                        <button class="btn download-btn" id="downloadPNG" disabled>
                            <i class="fas fa-download"></i> Download PNG
                        </button>
                        <button class="btn download-btn" id="downloadSVG" disabled>
                            <i class="fas fa-download"></i> Download SVG
                        </button>
                    </div>

                    <div class="tips">
                        <p><i class="fas fa-lightbulb"></i> <strong>Tip:</strong> Use contrasting colors for better scanning.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Short URL Result -->
        <div class="short-url-result" id="shortResult">
            <h3><i class="fas fa-link"></i> Short URL Generated</h3>
            <div class="short-url-box">
                <span id="shortUrlText"></span>
                <button class="btn copy-btn" id="copyShortBtn">
                    <i class="fas fa-copy"></i>
                </button>
            </div>
            <button class="btn use-btn" id="useShortUrlBtn">
                <i class="fas fa-check-circle"></i> Use This URL
            </button>
        </div>

        <!-- Footer -->
        <footer>
            <p>&copy; <span id="currentYear"></span> QR Studio - Free QR Code Generator</p>
            <p>No registration required • Unlimited use</p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>